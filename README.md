# Знакомство с базами данных

## Понятие "база данных"
В широком смысле слова база данных - это совокупность сведений о конкретных объектах реального мира в какой-либо предметной области (Картотеки, каталоги, книги учёта, результаты переписи населения и пр. – тоже БД, но на бумажных носителях).

### Базы данных нужны для:
* написания программ;
* хранения информации;
* обработки информации
* быстрого извлечения необходимой информации.

Таблица БД представляет из себя совокупность столбцов. Столбцы, так же могут называть полями или колонками, все эти слова будут использоваться как синонимы, выражающие одно и тоже.
Таблица – это главный объект РБД, все данные РБД хранятся построчно в столбцах таблицы. Строки, записи – тоже синонимы.
Для каждой таблицы, как и ее столбцов задаются наименования, по которым впоследствии к ним идет обращение.

### Базы данных бывают:
* реляционные;
* иерархические.

Реляционная база данных представляет из себя совокупность таблиц, связанных между собой (включение столбца одной таблицы в другую).

## Основные SQL команды
### Обязательные:
* SELECT 'столбцы (через запятую)' или * для выбора всех столбцов;
* FROM 'таблица'.
### Необязательные:
* WHERE 'условие/фильтрация', например, city = 'Moscow';
* GROUP BY 'столбец, по которому хотим сгруппировать данные';
* ORDER BY 'столбец, по которому хотим отсортировать вывод'.

## Соединение таблиц:
* INNER JOIN - Пересечение (естественное объединение)
* LEFT JOIN - Объединение по левому ключу
* RIGHT JOIN - Объединение по правому ключу
* FULL JOIN - Объединение (полное)

### Выделяют 3 типа связей между таблицами:
* Один к одному. Простой пример — у ребёнка может быть только одна мама.
* Один ко многим. Мужчина в течение жизни может быть женат на нескольких женщинах. Либо женщина может быть замужем за несколькими мужчинами. Если продолжать пример с ребёнком, у него может быть одна мама, но у мамы — двое-трое детей. У семьи из трёх человек может быть один адрес регистрации. Правильная структура хранения предполагает отдельную таблицу, где будет идентификатор мужа и адрес, идентификатор жены и адрес, а также идентификатор ребёнка и тот же адрес.
* Многие ко многим. У мужа из прошлого примера может быть несколько адресов. Тогда в структуру хранения добавится ещё один его идентификатор и ещё один адрес. Получится, что адрес может относиться к нескольким людям, а у одного человека может быть много адресов.

## Основные операции с БД:
* Проекция
* Выборка
* Объединение
* Пересечение
* Соединение
* и др. 

## Описание структуры данных
Описать структуру данных - это значит описать структуру каждой из таблиц, входящих в БД и указать связи между ними.
Структура таблицы представляют собой список атрибутов будущей таблицы с указанием типа
данных (или без него), часто с комментарием или условием на значение.

### При подготовке структуры хранения данных нужно:
* Добавлять уникальные идентификаторы в каждую таблицу.
* Указывать тип данных.
* Использовать особый тип данных для даты или времени.
* Заранее рассчитывать длину полей.
* Использовать справочники для повторяющихся данных: семейное положение, город и других.
* Дробить информацию на несколько полей, если это соответствует вероятным будущим задачам работы с БД.

## Формирование оптимальной базы данных
### Чтобы сформировать оптимальную базу данных нужно:
* Собрать всю информацию о работе бизнеса (бизнес-аналитику).
* Понять, какие бывают ситуации и кейсы.
* Понять, какая информация может понадобится в разных кейсах.
* Понять, какой путь проходит клиент от момента начала коммуникации с сервисом до завершения, какая информация сопровождает этот путь.
* На этапе создания базы данных придумывать кейсы, в которых ваша база
данных может «сломаться».
